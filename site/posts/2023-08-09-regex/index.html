<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../../static/css/default.css" />
  <link rel="stylesheet" href="../../static/css/style.css" />

  <title>sandalo.dev</title>
</head>

<body>
  <nav class="topnav">
    <a class="name" href="../../"><b>Eduardo Sandalo Porto</b></a>
    <div class="dont-break">
      <a href="../../">home</a>
      <a href="../../projects.html">projects</a>
      <a href="../../posts.html">posts</a>
      <a href="../../cv.pdf">cv</a>
    </div>
  </nav>

  <main role="main">
    <article>
  <h1>De onde vem o RegEx?</h1>
  <p class="subtitle">Implementando expressões regulares a partir da teoria</p>
  <section>
    <!-- <img src="./img/nanana.png" style="width: 70%; margin: auto; display: block;"> -->
<!-- -->
<p>As expressões regulares, também chamadas de <em>regex</em>, compõem uma ferramenta extremamente útil no arsenal de todo programador. Usando uma curta sequência de símbolos, podemos definir padrões complexos para a realização de buscas e identificação de cadeias de caracteres em largos corpos de texto. Mas você sabia que elas estão fortemente ligadas ao assunto de “o que é <strong>computação</strong>”, e ao trabalho de pesquisa de grandes nomes como Alan Turing e Noam Chomsky?</p>
<p>Neste post, veremos de onde vêm as expressões regulares e como implementá-las a partir de suas bases teóricas, explorando um pouco da área de <strong>teoria da computação</strong>. O conteúdo aqui apresentado é baseado no livro <a href="https://www.amazon.com/Introduction-Theory-Computation-Michael-Sipser/dp/113318779X"><em>Introduction to the Theory of Computation</em></a>, de Michael Sipser, cuja leitura recomendo veementemente caso tenha se interessado no tópico; e também baseado nas aulas da disciplina <a href="https://uspdigital.usp.br/jupiterweb/obterDisciplina?sgldis=mac0414">Autômatos, Computabilidade e Complexidade (MAC0414)</a> do IME-USP.</p>
<h2 id="modelo-computacional">Modelo computacional</h2>
<blockquote>
<p><em>“Se você deseja assar uma torta do zero, você precisa antes inventar o universo.”</em> - <strong>Carl Sagan</strong></p>
</blockquote>
<p>Para implementarmos expressões regulares, devemos antes inventar o computador. Antes que você se desespere, não vamos realmente discutir todas as peças necessárias para a criação de um computador moderno, como o processador, a placa gráfica, as interfaces de entrada e saída…</p>
<p>Em vez disso, temos o interesse em modelar apenas o funcionamento básico de tais instrumentos, definindo quais são as operações fundamentais que um computador pode realizar em sua estrutura mais simples. Chamamos de <em>modelo computacional</em> toda maneira idealizada de representar computadores dentro da matemática, tendo como exemplo a famosa <em>máquina de Turing</em>, citada mais para frente.</p>
<h3 id="autômato-finito">Autômato finito</h3>
<p>Um dos modelos computacionais mais simples é o <strong>autômato finito</strong>. A estrutura de um autômato é baseada em três componentes:</p>
<ul>
<li>Uma <em>fita</em>, que serve como a entrada de dados para este computador simples;</li>
<li>Um conjunto de <em>estados</em>, que representa etapas de computação;</li>
<li>Uma <em>função de transição</em>, que descreve como o computador deve alterar estados com base nos valores lidos da fita.</li>
</ul>
<p>Nosso computador conceitual deverá percorrer os itens desta fita sequencialmente, lendo cada um deles e realizando uma ação com base em suas regras predeterminadas.</p>
<p>Imagine que estamos modelando o sistema computacional de uma porta eletrônica, capaz de fechar quando apertamos um botão e abrir quando apertamos outro. Dentro da ideia de autômato finito descrita acima, podemos modelar este sistema da seguinte forma:</p>
<ul>
<li>A fita é composta por uma sequência de comandos de <strong>abre</strong> ou <strong>fecha</strong>.</li>
<li>Os estados da porta devem ser <strong>aberto</strong> ou <strong>fechado</strong>.</li>
<li>As transições entre estados são definidas da seguinte forma: um comando de <strong>abre</strong> deve causar a porta a ficar <strong>aberta</strong>, um comando de <strong>fecha</strong> deve transitar ao estado de <strong>fechado</strong>.</li>
</ul>
<p>Vamos ver a representação de <em>diagrama de estados</em> do sistema acima. Para facilitar o desenho, representamos os estados de <strong>aberto</strong> e <strong>fechado</strong> pelas letras <strong>A</strong> e <strong>F</strong> respectivamente.</p>
<div style="overflow-x: auto; overflow-y: hidden;">
<svg width="350" height="100" style="display: block; margin: auto;" version="1.1" xmlns="http://www.w3.org/2000/svg">
<ellipse stroke-width="1" fill="none" cx="119.5" cy="52.5" rx="30" ry="30"></ellipse>
<text x="112.5" y="58.5" font-family="Times New Roman" font-size="20">A</text>
<ellipse stroke-width="1" fill="none" cx="226.5" cy="52.5" rx="30" ry="30"></ellipse>
<text x="220.5" y="58.5" font-family="Times New Roman" font-size="20">F</text>
<path stroke-width="1" fill="none" d="M 144.662,36.507 A 77.724,77.724 0 0 1 201.338,36.507"></path>
<polygon stroke-width="1" points="201.338,36.507 195.712,28.934 192.066,38.246"></polygon>
<text x="151.5" y="22.5" font-family="Times New Roman" font-size="20">fecha</text>
<path stroke-width="1" fill="none" d="M 198.688,63.492 A 108.752,108.752 0 0 1 147.312,63.492"></path>
<polygon stroke-width="1" points="147.312,63.492 153.904,70.24 156.266,60.523"></polygon>
<text x="155.5" y="87.5" font-family="Times New Roman" font-size="20">abre</text>
<path stroke-width="1" fill="none" d="M 92.703,65.725 A 22.5,22.5 0 1 1 92.703,39.275"></path>
<text x="12.5" y="58.5" font-family="Times New Roman" font-size="20">abre</text>
<polygon stroke-width="1" points="92.703,39.275 89.17,30.527 83.292,38.618"></polygon>
<path stroke-width="1" fill="none" d="M 253.297,39.275 A 22.5,22.5 0 1 1 253.297,65.725"></path>
<text x="299.5" y="58.5" font-family="Times New Roman" font-size="20">fecha</text>
<polygon stroke-width="1" points="253.297,65.725 256.83,74.473 262.708,66.382"></polygon>
</svg>
</div>
<p>Isto é <em>quase</em> um autômato finito, como logo veremos, mas ilustra bem a ideia geral. Neste tipo de diagrama, representamos os estados do autômato usando círculos e as transições com setas. Um computador com esta definição que comece no estado <strong>A</strong> e processe uma fita contendo os comandos <code>[fecha, abre, abre]</code>, nesta ordem, deverá transitar entre os estados <strong>F</strong>, <strong>A</strong>, e <strong>A</strong> (note que uma porta aberta permanece igual quando recebe o comando <code>abre</code>).</p>
<p>Nos resta adicionar dois conceitos para completar a definição de um autômato finito: em um autômato deve haver um estado de início, indicado por uma seta cuja origem não seja outro estado; e os estados de terminação, indicados por um círculo adicional interno. O estado de início é auto-explicativo, já os estados de terminação são um pouco mais complicados.</p>
<p>O modelo computacional que definimos deve ser capaz de <em>aceitar</em> ou <em>rejeitar</em> as fitas que recebe como entrada; se seu último estado antes do fim da fita for um estado de terminação, a fita é aceita, caso contrário é rejeitada. Dizemos que a <strong>linguagem</strong> de um autômato é o conjunto de todas as fitas que aceita. Isto não é muito importante para o exemplo dado acima, afinal, toda sequência de apertos de botão para controlar uma porta é válida; no entanto, esta noção será fundamental para entender expressões regulares.</p>
<p>O autômato finito abaixo é uma versão completa do sistema controlador de uma porta eletrônica. Ele aceita todas as possíveis entradas que recebe, como <code>[abre]</code>, <code>[fecha]</code>, <code>[abre, fecha]</code>, <code>[fecha, abre]</code>, etc. Desta forma, sua linguagem é o conjunto de todas as suas fitas.</p>
<div style="overflow-x: auto; overflow-y: hidden;">
<svg width="350" height="120" style="display: block; margin: auto;" version="1.1" xmlns="http://www.w3.org/2000/svg">
<ellipse stroke-width="1" fill="none" cx="119.5" cy="52.5" rx="30" ry="30"></ellipse>
<text x="112.5" y="58.5" font-family="Times New Roman" font-size="20">A</text>
<ellipse stroke-width="1" fill="none" cx="119.5" cy="52.5" rx="24" ry="24"></ellipse>
<ellipse stroke-width="1" fill="none" cx="226.5" cy="52.5" rx="30" ry="30"></ellipse>
<text x="220.5" y="58.5" font-family="Times New Roman" font-size="20">F</text>
<ellipse stroke-width="1" fill="none" cx="226.5" cy="52.5" rx="24" ry="24"></ellipse>
<path stroke-width="1" fill="none" d="M 144.662,36.507 A 77.724,77.724 0 0 1 201.338,36.507"></path>
<polygon stroke-width="1" points="201.338,36.507 195.712,28.934 192.066,38.246"></polygon>
<text x="151.5" y="22.5" font-family="Times New Roman" font-size="20">fecha</text>
<path stroke-width="1" fill="none" d="M 198.688,63.492 A 108.752,108.752 0 0 1 147.312,63.492"></path>
<polygon stroke-width="1" points="147.312,63.492 153.904,70.24 156.266,60.523"></polygon>
<text x="155.5" y="87.5" font-family="Times New Roman" font-size="20">abre</text>
<path stroke-width="1" fill="none" d="M 92.703,65.725 A 22.5,22.5 0 1 1 92.703,39.275"></path>
<text x="12.5" y="58.5" font-family="Times New Roman" font-size="20">abre</text>
<polygon stroke-width="1" points="92.703,39.275 89.17,30.527 83.292,38.618"></polygon>
<path stroke-width="1" fill="none" d="M 253.297,39.275 A 22.5,22.5 0 1 1 253.297,65.725"></path>
<text x="299.5" y="58.5" font-family="Times New Roman" font-size="20">fecha</text>
<polygon stroke-width="1" points="253.297,65.725 256.83,74.473 262.708,66.382"></polygon>
<polygon stroke-width="1" points="119.5,117.5 119.5,82.5"></polygon>
<polygon stroke-width="1" points="119.5,82.5 114.5,90.5 124.5,90.5"></polygon>
</svg>
</div>
<p>Agora, temos bagagem suficiente para definir <em>o que é um autômato determinístico</em> de maneira formal, isto é, dentro da matemática. Não se desespere, pois tentarei detalhar o que cada um dos símbolos esquisitos utilizados significam. Definições formais são úteis para especificar conceitos de forma inequívoca, evitando que pessoas diferentes tenham interpretações distintas de um mesmo assunto. Também aproveitaremos esta definição como base do programa que iremos escrever em breve…</p>
<p>Um <strong>autômato finito</strong> é composto por <img width="202" alt="(Q, \Sigma, \delta, q_0, F)" height="34" src="data:image/png;base64,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" class="inline-math" style="margin:0; vertical-align:-10px;" />, onde:</p>
<ol type="1">
<li><p><img width="30" alt="Q" height="31" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAfCAQAAABaZbWMAAABUUlEQVR4nJVVDdWDMAycBSzMAhawgIVawEIsYKEWsICFWqgFvuutgz6WpHzb24M1d/lP+nq5HxlkkoDv5ON+aYvsEkVkxtsqGb/3M+oCcGzB8oaqLHPf5iaHBOU84dwLQEZCRlUWIEky2FazZvWU21JQdwjF8StCvukigSibbn0RhyaYisB2+SIr6pnj7FFP8j3j1a4TL1FRtYz+OawSNahdjZlF6Dk90MA922gN7fiOmtXQHkash4ZBKMdLx+mselfJ7tSyszVMddsh15mKuqjjNtvDmihWcD3/zUjOeiWQnmWzC1iGOhSFyuf4oeOZHSoh8VusK6NFCamp03t1mkOJ7zzbGKt4Y3opEC6+VFYf4rytwe72hP0AFRttBqhpyqcWylHVLAd4snpYjVyTx7T9894orVNuDXvxOeRE+sEeeHbZNORQqb06G/SRWVfr/AfE4hk6O+6JgQAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-8px;" /> é o conjunto de <strong>estados</strong>,</p></li>
<li><p><img width="27" alt="\Sigma" height="23" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAXCAQAAABQH/ylAAAAz0lEQVR4nJWUUQGEMAxDZwELWMACFrCABSzEAhbOwixgYRawwIWxfRxretD+NbyRdd1CyIEe8UGu4TfQIeFgAmOTM6tbVo9wD8qnsKNrpKrv1FuVa57gx8bKwmNbrkYnCUYDY3koRnuBLYAtXEajtGljlK6eLUKV2B+jMnyjHuga1Vgx+v5/p1G1fRe7j+0DaObuxGxqaHAG2jm3hEFoako4zpszynImI2YF5fM0b8Dq9Q+Tfd8Wb6AIWbc7lyfjJWEbGMl8S9iK/RLcTPX7L1OXyzWo3f5sAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-1px;" />, pronunciado “sigma”, é o conjunto do <strong>alfabeto</strong>,</p></li>
<li><p><img width="214" alt="\delta : Q \times \Sigma \to Q" height="31" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAAAfCAQAAAAxDfvZAAAEJUlEQVR4nO1b0ZWjMAxMC7SQFmghLaQFWkgLboEW0kJaoIW0kBa48eAjBLAsY/FC3p352LvFWPKMLMmy93Raaa52Q2tcvfa+tLnKXTB24y57jP7LLRsZkNSSqpfr8dyNlbm5zt0x+hX/aiGjdWdLCQuJZ/dQPO2eOqj03IIMJteOn3vCGkOFbhjvPlUB0jr87monYyGzck8anYPNzp8Gv+34tt9PA5WW25DBFNwu6lSw335JfQBzR4eIGXk6Xq6Kvvc+JPJ2/1aAjFd9B4VqCl6NgLDvHm93BAvrR3TopPNL8bMIGfDZW68tjPlas53xvfjWRP7gCqNOBbb9FbKKkYHvfFkGfSjUyQYAib172ElckVAHVxiZF2LGLs5fbgbIcPF1hio5KWKMPcQQL9k9pqzYYARXGJm4VaTO8xAWyJzoNIyS2RDexSkEICWlXzF9aJ2qKBvyvltMB80YSRkZmwATZJA03mUPP/b0W7hEYsBMJwFmUElaPfU6XQNVuq17yhVaNKbgylSpGBlMvsX0r7TCpFj2Eh1msJ6E1QbjEKWt0ZVDFfuLrtCiMWFQrdFiZN6AMG4l/W96Ownq+1hiOunVabalc7pyqXpLirlCi8ZCgmLtFiJDMMa9CONWotQExZ6ybTD1TC31SmvvU7q2UPV2hXlfZcro8CRdYREyYfKjkCFT2aDrdMxaQwOcrsIhjCOSrm1UcQRnv4+cSahIl7i6CpGZT2LouEnb9xg6v6xyCGNv0rWVqqFMveW7LBmDKQnOthAZLstpIfFiQNYtHSHCHj4j6IeJbqOq0bio2TfncP6Q/zxjWhYhw3X0kdcRksK8KagkFnJCKqMu9gSrje67xG9roZwr1RGW9frUw8qDUN4qQWbpyUlfocMIa0CuPigSmY/+dICxfZf4bS1YuulZA92XvGpKkFkW6Ulf4TlTyGYk3+1cRsV9mlbk0sVvJUs3I4vJeyolL0GGy/aDZ20RJ6FUN12fWK2tP4Ue/3/h1lubWswywDy6YI7CrhEjG1XdOSdFfbAAGfrQiboIqqoENzVFOtMQJ7xC/FkPIxPszVSNI6jo8lAktLQi66Fz6gXIzMnB5BTOKV1uCmt2UGFMV7hT8gpFY8hilMi+SkcXTFFIlQCV2UkxV4Sy9liADD1tUBh5iMriQ4Iq1/SGM5tmmm/B+pjQ6AGK76vSdJGM62rO5liDMbyDASNXZ9BFyFDxhlPolHVsZTWAhnDH6Gfa3uxyiLKSFtUIdEkurlLtkp5pHTRN3gqv9N+ODCbmr0HtcMCNkf1Nogctp4Fy0/hoetntuy19ZLT44ujITPMlTO/rd/aO0w6IzLs2wojz/17u2A6IDKOEv3u6+0WZX2sHROZvBuZ2PmT/vXZAZEKJUqhK/6vtkMjw71Sa711ZPm6TkPkDK6CVPe4y3ucAAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-8px;" />, com seu símbolo principal “delta”, é a <strong>função de transição</strong>,</p></li>
<li><p><img width="98" alt="q_0 \in Q" height="31" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAfCAQAAAC2ENCaAAAC6UlEQVR4nNVYDZnrIBA8C7FQC7EQC7UQC7GwFmohFrBQC7EQC3mzA0cJgUC4vut38F2vDQvMsrM/5OvrTzTpZJARffg0kqYG+JM8ZRaRO749ZMXf7dOoLjXAXqFAAFpuUGmV++cwXWqwgZFNxsTzBc//ArGkJ9Q+OTZiZJHutzFdbDjtNWUFP346+n4wIxzxiS3DXmA0ZukMOZGYMW7eizW31cQTM7JvU4kIkNkw80SKEtt70aa2sW4p15mLjLCVyGKVOFkbBBBQYHBQmphHQixptyzOVeXXgoxVIh2hcAoLBG4AIVBGoZww83STtS0lOTsUdqVPpC3B0DX5X4Zn0hCPCaQxHYEDWy60BlLPjE8grW8yR7+bnEfjUcs8zl0ryNRR0WN0cpE5TPBjaxjDSlNZKjmzz8DbS90zlKOr7CbTsE4QXiIg11wOjw5IY1FQ6RFpyjk77M7vVaGwBLDftKIsRfkhSm3HnlUR628xjoOMxZogkzXQvlp0HsFJPtDiFErGViUmfOZ79hicEqd2JM1TMiTTchA1fmGvHtUtxY722DSUlHA17JwaMvHAyyN0LNqmxNmnPKpxxxALdLLHnc4QJoYWeMR2UKJEqHFPzSuNGcAfAez+QPfIuPuaYQL1C5R4eUSLEjyClMErGunqij9Vgf97x4keIzkVYpK4UtgkleiqlNDtWik1v4jsnz3cmuf1GAi1eJgmrOcjJfq6FAhKrVingVTuCEflR4BOKmpiQp9hQMFnH95iW+hEyd7yG2teVoUF5AwUN+4YvS44XQ/bDmqu0CNsNdOiBKVHhozqZBfM7HglMLTB+J1s3ViNv+2rJuVopMSl8pwvviqTXXaN4JKE+TXeFlZNTiXvTvvU91stCDPq3jWVWfxeJ0xeeml6M8IaRErCmf5aR+a9R/CJuqiQCKY1cP6s8VhtL90YeSkVN0FbWBAOfE/RdGv+eXNF31Zxb6cS3/Xn1PKm4v81zdp660+N/QO+mqhjOV4VYQAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-8px;" /> é o <strong>estado inicial</strong>,</p></li>
<li><p><img width="100" alt="F \subseteq Q" height="31" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAfCAQAAAC7DqDdAAAChElEQVR4nNVYAbGDMAydBSxgYRawMAtYwEIszAIWZgELWMAC/yXtRv+AJND+2196u+1GG5LmvSTt5fI1QhU11GI03gVED2N4VRUSuNDRQD0su+HXnSZ8antZg3GnGWPAwuY1buIi/0+HzKgTHc9hm7Gs72B4n66AxgH/3TyLb2LwxlSonal1GVDD8VH0bAynE5Vs3ep9+J8128iACfy6avPZZCvAizimo4BhHY+Gri43rmLu5lxwhfVvWphOGxhYO88eFjDEgNEXN0VLhS1Toq8/fapQmEAPhwGDuVeGQMugsxG8mQ1b9hkiTy1HHvluRHBPmp4Af1vJL4bAtXp5qq5t91B9RMCi2QKOxuPnlBVDqHeb0PvnKlo4V03GnODIfuJZMwSJ1IBTMteZnFUdjadaCUe0iLwzRMqPswQiX5UAVijHhh7BjcaRGLIhtiOjEcDfaxtvqVO1TA5gBdxoSAkMSYpX7zeuREREh5VYn7jZR8oGQxo/Q0pwxMkQC37rGgLFB5rE/Kwl3dxMnTonVH0VWOsaQkfadtnPLHBFR9R3SrXS52hdltOQzMoeoaUYGXtfLfJ6l+U0JLPXijYo0BLU6J2v3mW5TbnKwec06QUV98SmO8ZrcyVikwFfR//iM6WKu3bqPCLbGRtGdkO+r8EVfE+mGyUYkujiE+Jw7oQo7Ucw/JWZ2CFxY7TdCDQr5EiOxNNIm/baSCIcZdK50W3sWnbPlCcwmS8dRj5AYIvfriCOXF98XBCXNl5OEX6NaUoucVj4kKTND19YfdKWLFlaEqH8X18SIl1a95Q8TgBDeMu3jfalQwnhfO+RE5qXy77pq6j+LrFRnB115L+LRLvdriM/3DaGp/aVFqMAAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-8px;" /> é o <strong>conjunto de estados de terminação</strong>.</p></li>
</ol>
<p>Vamos discutir estes itens um por um. Já sabemos que o conjunto de estados representa as etapas de computação nas quais um computador pode estar, mas o que é este tal de <em>alfabeto</em>?</p>
<p>O <strong>alfabeto</strong> de um autômato é o conjunto dos símbolos que cada pedaço de sua fita pode conter. No exemplo de sistema de porta eletrônica, os símbolos possíveis de uma fita eram <code>abre</code> e <code>fecha</code>, mas poderiam ser outros, como as letras <code>a</code> e <code>b</code>.</p>
<p>A <strong>função de transição</strong>, quando representada matematicamente, é uma função que recebe um estado e um símbolo do alfabeto e te devolve outro estado. Lembre do diagrama de estados do exemplo: nele, cada seta de transição começava em um estado, tinha um símbolo associado a ela, e terminava em outro estado. Matematicamente, podemos retratar estas setas como:</p>
<ul>
<li><img width="214" alt="\delta(A, \text{abre}) = A" height="34" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAAAiCAQAAACJ6e+qAAAFMklEQVR4nN1bjZXbIAy+FbyCV8gKXiErZIWswAqswApZwStkhazgSoIkIMCWcuD4Kr++9s5YlvQJ/Zn+/HxA5mTsJ88dl8xgnBm+LcVHBGB4uphT4e7ZzFLFgINpK1svAp3FWu1BQssBSJagepgFLsfunszdjMIXjsDjppazzu8GF0rVxQHM1cw9+H5CQsvBshDiIDQgYJfk7gBQXUrPFXk5MGxDA5gJ/K0bWOQMB4kDQsuBQVYEBvjEOwU44c5cpOuFXE1HsEbgPfXhrZJDajlY+KjeUykDOcD9LbCAuz1CKBRbDgJd1Rigyl38Qk/oIYUi5XPqDNYJuIvDfCcZNJYDVB+lEoJgvApfOKKHQspeWgeWvmCRVzcsiT54v85ykMSLyY0YSOtAhy8KsfeslHedc2+wjFzLLu/XWg4qviVve6FWEgZBeJULfy+tTdsdrEkeP7q8XWc52IiuhGvec1U5zN43KXCqTQvvNyCBhT+XvE19ggW8r7TGpPsAq1nf0L84MdMDV3zqxp983Rfr2Z5UloNFUA/RjGKBzBWZirAWmR0t9fr3Utqjq09fQAIvMERv2OMsyXqwyOBnkhc7L/uWFECYvaJQLDiaxURyU0vvAv9rWSN8q0bidqSyHKjy8AsobyV1EakmKBV8gnz9hC2sImHD05GhAIoHL3bI+HOsBkmdjIoAPATLB5T7WwJaeWO8srwAcDduN2Skshyp8goApGQUDkgxCVguXoWKq8Ay6Y6mn222gpU/5FqWrbl7OWhvhd1Jey6WDoNN1lVuaUrlvfRSZD+F5UDwOTNTpAjlsc26/5kgk1cq/DT0F6+9BAGZiUwrmBIhwp+SNTkICCkLcCQfA2bbLUFL6SUeDassx6ssMlO0WBYcngky4aoBC+eRUWCiTLkJVtgzZmONK8BcqC2lMaQtqSxHMTJa7ovH6GcBWDT4vSXXPd0pYtGHUNVZIVhJ0CiX96ShZZ5vK2DtPMVQWY72UZIJuE9vg0XVGw8DVj/DAFlwhgI7DDhKd5aNXasC1lIACy9mkHLZ0ZOUlsvVI/jipI2+uxqB0wQZfjfpwKIvtljJDdHz0p11T9aUwRI0H/uHQaXlSNn0yxXzr80aaSq1ktoZBskRu4gGrK0wyHhXZdjSdGQBa+0S7FC15cifEwGxNlSpMFfnAWKwgoC8FScQnq5UAesel8kVsApFP+1lHgbdVpaFnlNKgmytthxveenLVR4Wq11D3HsXXsn8uQZ6bk6Sy4NlojW8psPOh7cdOVgjL6Lot5dsHLVrU6yznL/BwMEvV2mGyuGL7p3q6uWdOJXZxU98BE26n+0zFz1DRWh4U9lcIWSXBknYaaXdzJAfk2l7bmSddJZ73zJv36R5W9YAg4kKj9JA9VFrmPG7Mzdu6O0L0ZzGS2k4myjAjejvkZwTeP97H9ks31IGK5VDbFKIUPGWeMUp25LecvFtg4dhqL+Zi0fQbF4P+j47XPwclIvuRaMX4jOXDRIm/haCLs7Uzz9+CPZ4S+TDBp5cJCiv6EKxtOydeXabqIfxPZwruOSlZr629Inl0kUDGamWUaZ2/cfasRxqiKckgxYlAsBUA53oybHUX4V77lsz98aEnxcacZq+fdKhTGsnUP4YUYhocmpVVtTuT5StD3Qu91dUyzVKLsP3vsWuE2azb8vQjCjd/3pPYGnQQprWdKQD1E3IKM7kVjicj/l/UOiT/w514K6ERfOvnj/mrsKea9dZ+04EcB2ylvsN4Vmqb8vQif63cJGPc49I/wBycDe6cLtX0QAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-10px;" /></li>
<li><img width="226" alt="\delta(A, \text{fecha}) = F" height="34" src="data:image/png;base64,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" class="inline-math" style="margin:0; vertical-align:-10px;" /></li>
<li><img width="211" alt="\delta(F, \text{abre}) = A" height="34" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANMAAAAiCAQAAABvwCTuAAAFfElEQVR4nN1bDdWrPAx+LWABC7OABSzMwizUQi1gYRZmYRZmgS95KKxNm7YM2LhfOPecd/QvzZPmj96/vw/IXIz9ZNw5yTRmMM2vufiACIaJruaSaO3N45/clkq03xPtiKRuaroZYwHSy4z0DKL1Yp6mVcbdC0+3gXkezxzVbGH97DfzOGLe9WRa2uW9ppszaGQMGKpr0NoQSNfUOGrr6LGA9kEnrlueHgCO20RM81yPgwlqcNDM64gM8FihMiSODLss8OzoHnD0iZYbvVcAriVa/TiYWpp7w2nfiYsO8htrOr7UtuJWIMgxbefpLGwUw5Ew0ez294aP7NBQB1Oji4I28iwuox5ZMitJn1ZPB8N02X7eN3IwESt6InSTnQfS+4RAAeAtO7LJeaAKx1ji7FCYoGSbedywessKDudQY37JVSdPBCbIngfdM6H1/DCZ0g6PJDoe3eKdFBmGA57UMUpgyWiVTF7kmQi49t1azXFu/iNh6kr24tC1h4WHml3S4RtSiMY5VDQy8kylEYm1Da1u6d81DkRmmMi43tDHhLrPUeqUli8zCaHTrAPSA6PkfsU9HkUkO3CUdxxz54bjHdQZRvJQ/rnoSoPjBUhUqwwdCdE6ZslO05kWjnSCCaLusR5nUvbNJYn/MfFA4cCAWorHDxLzwc1/S++GV13D8V7EurX8PaZsmd/5wtvGX1d09uIebCwfjAvPBFGvMFHU3xMRgfCSoQzE/vC3AI6DQg8SbOMMCBvvu9fzLuaKPACn4fUc70VT8LD8er25TnXmjSxHHlv0DAC2VZMzPVxh6FkZsYTjvROM3zbqIYIbKJQVfZ7TujhP7kTinHnc4OxHGWJplwjaa59qLzcFD8uvewYmYvsRCcnbBvxVNpqfPJNXJBrWaaaD+R1y9JJd9BAbcKb2EvSJxc9gCnMGcQhIKpSxq34qi7lz8BDwpUlORlGTCQsHZxeLPVO30jNxDdEzQ/CGRZicephCnyEBcCJuLMO0P83BQ8CDCtMrzBmmwND7XYIpypny1cHMTI2L2GwlTIGRSAft2J0V2m4VmL5aiUB5O/yO8Aytit+5j0JpoctFmOKcyazXS+KDayCG863q02R9hVJgGhMw8SOEkQ4sjiOEWZInq3r1eHMAznfNd6OUVF17pppXyXID02TmVaphuvt+JwNTxdn+ttELgwf3rtNhusvDLvUqv4GqpKxA4MFXjDUwlYyemFvloRTptcVPn++neCpl8LC81WQJPQ7Y47ivfgP5al4NOeZkQg3xzwqkwPT0g18FpkQoD+WSRm9QvMK7x83UUrE6KIOH5b0Kk0he8WUpNoJqJpD7ziR6KlDHggRPE0zG6yPjNc5kZCIRw9TKEAlvr1Ex6YvprV95EC1aHULCwl+WQqHHwAWtlZ5J7wdQwvNrZ58zmwaXuoZ8DQnjnCoDceYU5idNfFGl6h7CLsTqpbbpdQgEhrPz5lpZlMqSgJQtOINVA9OoGUcUh0Lj1cGctX/LJxDwSNmYd3Zs5FPhqVLnWlT4GCSZ3GZVcT9C6fillQv4+3msju9mw9dRkLM8khe/bGzW3Ees8MnUKjCHUulzlXlL5pXr3/3fVL56vbmZzATfEgSIN1YcfzXBR+zFOmQlU042JBTxmud+H3LXd6ZH3tsaxB5SboZQZhFp3qPbJ6fIpb1IbbvASya5IahWlGOCkW0qX3Jtw2/q4zsTfwjYYZbutzcONMrdAvmnCEZh8+3QmlD1FwSPfJq7r5to3Rek5AzNr76Ploi91q952Ing1DedhU8qfd+g81xP3oVM4d5rYXR/zv/LgQ/wh8d4XyUOhz8ee86TxDnUF+viXyIC6pSx2qfE95h+zcMh9H8yEHEB9nz0H7IdQDoLDTdTAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-10px;" /></li>
<li><img width="223" alt="\delta(F, \text{fecha}) = F" height="34" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN8AAAAiCAQAAAB1/MRgAAAFSElEQVR4nN1b0YGDIAy9FVzBFboCK7iCK3QFVnAFV+gKrtAVXKEXHtQDgoCI2l78uYqEkBdCErifnwKSNzmU9Psmko0cZXO1FEVE8Gjq5S3Q2snp2IlJIe9SHDlClhS3o+d5CBFsA8Cb5Yue0Wu9yadsV/o9Ek8GJGQcTxpf0NeFysNIT5L8UdLb4XSX014eReOWa1K2b8dI7kNB2DutDSmmD/XDmhGkeAX5RCCI5ekgjnovk4J3+isyEvV9t2nWf3Io/1ABPphCUub6tEOT9FFEYNU9OnC3pnay5Nca8NZXatU0MKKZnuAqzyGSsw58LfG5xI0XapLgm1dZJicDtb3CTo/gSCiCxq6i9HrwEafhMgdaoklyj6tLk6byTAyqnNbKdGnZJ1bTR8J3y/Ea9alYkxQwB90WgL1Hh2xifjmtzk+ED4qsxGnDmOWapHQhiDt8bnT9rPvr5KD6i8+ET6bmXZ92aRIBBEvMVTieGJT5axKj/WuN9/5Y+ETK69SnHZqkAGUMYc9zQNaT+etUD+tLgWRdhco6SLbsnfzBiJBZ8lWgImVkQqO9Q/3BZ9plMIZr6f1IOzr1jeWY6ZnXpkJNks8dkGuo7rODvkjlbdxfk3qyVwAg0KPqxNSAgTLBqGEDvDb/Bvt0b/7uqZeRWMOH2QAY9PT8CbUMhm9LIz9DFSbz5ZTyO3WpUJOkqllPEvufE3FBAfGkwfPXUMqmpJc7T0hkvQEsZgSa5EStltJJxof13YPgWVrhUez5tDYkxCuSZ6pUecs89lKRJqGqZYli/7MWLBSSk/NNZvU88WtTyhuAb3J5wC5nazzbQu8YsV3a5rA7tX5b/gW/VwrxqbmbGlHek7GLFmjS2LI7HSuBh/Wuuhd8MVk7l3rGrTbrwwcf4LktFI2EKSE4ESGDzxkdFu3DZ/X3252+adMV2U9GHbdAk8yWO1cBKQcS8Ndia+zH4Bu5St9yAiwf2uWcgkeejHfjhjOxqDcNX00q0iTOF2xbFhvhY5lKvHoa5OGrWMk0eNY7GPgesdQgDd/yvkFsKsE3Bt9plZcCTaKLG6j6qkzBxzMVudVi2ZivAHwmqagBH81aRa5S5VTJ1Vd0+lFCBZr0XacB1NrKoa5YbhSp0eVSEL7VwtE++JB0EPcl1fgc57ldk1CGe7LnWVx8CvEaXbYUgRW/Gg1GnF0WfB7vPfCprCz7SaziIk3CEh0BVRyaP4V4jS5bCl/FMmSHNMH2nZmG29Lw6Z2dlSV0nYbtctBOvNp7l7mUOnUp0aSflCMs5850NWeJnU55X8as2Iev9QMqvO21HMiHetbWL/LE4GOGAQ1o+Jjln5m252vS7uTBpU72XBYcUKc101/Hv+O5F9aYU+1DftosX/tSmrJZEr67m9UaZ4xEhFcX3crPsVQYQ+Bey3sb791ilHn7XN0btCvKge8Vcw1ahe5qc4MqgLesX4A7LFKrCmfncLKdo8MbRTLLm6jYDqsZMa0nVdRw61K+JnlXqa4hIQuaghcEB76oTaXDfSK1GfAI1u98Ls6UVOFI52ajy91qk+/7Vx4nEXrz8z5XIcBpDoAdRcOZzx1GEq031aCtmgyxaDCZld0JllEh+9mezkPZ3iESaytQMFJ24ez5gbkTzKeeNxxG6uimAhdxxd2RUord/fkyghvZfe84HTx/EiEO+L671mHaeoIX4NCcfXK9j9TOerUM1Qjb+661s70SeiVddU3+MErds0707r7pf5NwUePwmPNkUv/AUtz3m1aeyjFPO2c4kdQFoKtlOJ7cu2v/iv6dS2H0Ln5/Nv0C7P3PmR9tH/cAAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-10px;" /></li>
</ul>
<p>O <strong>estado inicial</strong> é nada mais que um dos estados do conjunto de estados, como indicado pela relação de pertencimento <img width="98" alt="q_0 \in Q" height="31" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAfCAQAAAC2ENCaAAAC6UlEQVR4nNVYDZnrIBA8C7FQC7EQC7UQC7GwFmohFrBQC7EQC3mzA0cJgUC4vut38F2vDQvMsrM/5OvrTzTpZJARffg0kqYG+JM8ZRaRO749ZMXf7dOoLjXAXqFAAFpuUGmV++cwXWqwgZFNxsTzBc//ArGkJ9Q+OTZiZJHutzFdbDjtNWUFP346+n4wIxzxiS3DXmA0ZukMOZGYMW7eizW31cQTM7JvU4kIkNkw80SKEtt70aa2sW4p15mLjLCVyGKVOFkbBBBQYHBQmphHQixptyzOVeXXgoxVIh2hcAoLBG4AIVBGoZww83STtS0lOTsUdqVPpC3B0DX5X4Zn0hCPCaQxHYEDWy60BlLPjE8grW8yR7+bnEfjUcs8zl0ryNRR0WN0cpE5TPBjaxjDSlNZKjmzz8DbS90zlKOr7CbTsE4QXiIg11wOjw5IY1FQ6RFpyjk77M7vVaGwBLDftKIsRfkhSm3HnlUR628xjoOMxZogkzXQvlp0HsFJPtDiFErGViUmfOZ79hicEqd2JM1TMiTTchA1fmGvHtUtxY722DSUlHA17JwaMvHAyyN0LNqmxNmnPKpxxxALdLLHnc4QJoYWeMR2UKJEqHFPzSuNGcAfAez+QPfIuPuaYQL1C5R4eUSLEjyClMErGunqij9Vgf97x4keIzkVYpK4UtgkleiqlNDtWik1v4jsnz3cmuf1GAi1eJgmrOcjJfq6FAhKrVingVTuCEflR4BOKmpiQp9hQMFnH95iW+hEyd7yG2teVoUF5AwUN+4YvS44XQ/bDmqu0CNsNdOiBKVHhozqZBfM7HglMLTB+J1s3ViNv+2rJuVopMSl8pwvviqTXXaN4JKE+TXeFlZNTiXvTvvU91stCDPq3jWVWfxeJ0xeeml6M8IaRErCmf5aR+a9R/CJuqiQCKY1cP6s8VhtL90YeSkVN0FbWBAOfE/RdGv+eXNF31Zxb6cS3/Xn1PKm4v81zdp660+N/QO+mqhjOV4VYQAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-8px;" />. De forma semelhante, o <strong>conjunto de estados de terminação</strong> é um <em>subconjunto</em> de <img width="30" alt="Q" height="31" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAfCAQAAABaZbWMAAABUUlEQVR4nJVVDdWDMAycBSzMAhawgIVawEIsYKEWsICFWqgFvuutgz6WpHzb24M1d/lP+nq5HxlkkoDv5ON+aYvsEkVkxtsqGb/3M+oCcGzB8oaqLHPf5iaHBOU84dwLQEZCRlUWIEky2FazZvWU21JQdwjF8StCvukigSibbn0RhyaYisB2+SIr6pnj7FFP8j3j1a4TL1FRtYz+OawSNahdjZlF6Dk90MA922gN7fiOmtXQHkash4ZBKMdLx+mselfJ7tSyszVMddsh15mKuqjjNtvDmihWcD3/zUjOeiWQnmWzC1iGOhSFyuf4oeOZHSoh8VusK6NFCamp03t1mkOJ7zzbGKt4Y3opEC6+VFYf4rytwe72hP0AFRttBqhpyqcWylHVLAd4snpYjVyTx7T9894orVNuDXvxOeRE+sEeeHbZNORQqb06G/SRWVfr/AfE4hk6O+6JgQAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-8px;" />, ou seja, é um outro conjunto de estados cujos elementos todos também devem estar em <img width="30" alt="Q" height="31" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAfCAQAAABaZbWMAAABUUlEQVR4nJVVDdWDMAycBSzMAhawgIVawEIsYKEWsICFWqgFvuutgz6WpHzb24M1d/lP+nq5HxlkkoDv5ON+aYvsEkVkxtsqGb/3M+oCcGzB8oaqLHPf5iaHBOU84dwLQEZCRlUWIEky2FazZvWU21JQdwjF8StCvukigSibbn0RhyaYisB2+SIr6pnj7FFP8j3j1a4TL1FRtYz+OawSNahdjZlF6Dk90MA922gN7fiOmtXQHkash4ZBKMdLx+mselfJ7tSyszVMddsh15mKuqjjNtvDmihWcD3/zUjOeiWQnmWzC1iGOhSFyuf4oeOZHSoh8VusK6NFCamp03t1mkOJ7zzbGKt4Y3opEC6+VFYf4rytwe72hP0AFRttBqhpyqcWylHVLAd4snpYjVyTx7T9894orVNuDXvxOeRE+sEeeHbZNORQqb06G/SRWVfr/AfE4hk6O+6JgQAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-8px;" />.</p>
<p>Tendo uma especificação de um autômato finito mais bem definida, podemos traduzí-la em código de programação.</p>
<h4 id="código">Código</h4>
<p>Todo o código deste post estará escrito na linguagem Haskell. Não se preocupe se nunca tiver tido contato com ela, tentarei explicar sua sintaxe e seu funcionamento de forma breve. Você pode testar o código deste post sem baixar o compilador da linguagem pelo <a href="https://play.haskell.org/">Haskell Playground</a>.</p>
<p>Podemos representar nosso autômato finito da seguinte forma. Note que o nome do tipo criado é <code>DFA</code>, que vem do ingles <em>deterministic finite automaton</em>. Vale a pena mencionar que até agora estávamos estudando uma versão específica de autômato chamada <em>determinísica</em>, mas também existe o autômato finito <em>não determinístico</em>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="kw">qualified</span> <span class="dt">Data.Set</span> <span class="kw">as</span> <span class="dt">S</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">data</span> <span class="dt">DFA</span> state symbol <span class="ot">=</span> <span class="dt">MkDFA</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  {<span class="ot"> transition ::</span> state <span class="ot">-&gt;</span> symbol <span class="ot">-&gt;</span> state,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ot">    start ::</span> state,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="ot">    endings ::</span> <span class="dt">S.Set</span> state</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>Acima, criamos um tipo chamado <code>DFA</code> que é genérico em cima de outros dois tipos: <code>state</code> e <code>symbol</code>, que representam estados e símbolos do alfabeto respectivamente. Desta forma, para que um DFA seja criado, precisamos informar qual será o conjunto de estados e o alfabeto usado, como veremos em um exemplo daqui a pouco.</p>
<p>Valores do tipo <code>DFA</code> podem ser criados usando a função construtora <code>MkDFA</code> (diz-se “<em>make DFA</em>”). Como atributos, um <code>DFA</code> deve ter:</p>
<ul>
<li>Uma função de transição chamada <code>transition</code>, que recebe um estado e um símbolo e retorna outro estado. Note que o tipo de funções em Haskell é escrito somente usando setas – o tipo depois da última seta será o retorno da função e todos os outros serão seus parâmetros,</li>
<li>Um estado de início chamado <code>start</code>,</li>
<li>Um conjunto de estados de terminação chamado <code>ending</code>. Todas as funções associadas à manipulação de conjuntos foram importadas no comando <code>import qualified Data.Set as S</code>, e são acessadas a partir do nome <code>S</code>.</li>
</ul>
<p>Lembre do exemplo da porta eletrônica. Vamos representá-lo em Haskell!</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">data</span> <span class="dt">DoorState</span> <span class="ot">=</span> <span class="dt">Open</span> <span class="op">|</span> <span class="dt">Closed</span> <span class="kw">deriving</span> (<span class="dt">Eq</span>, <span class="dt">Ord</span>, <span class="dt">Show</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">data</span> <span class="dt">DoorSymbol</span> <span class="ot">=</span> <span class="dt">DoOpen</span> <span class="op">|</span> <span class="dt">DoClose</span></span></code></pre></div>
<p>Neste bloco, criamos um tipo <code>DoorState</code>, que representa os estados nos quais uma porta pode estar e cujos valores podem ser ou <code>Open</code> ou <code>Closed</code>. Também criamos um tipo <code>DoorSymbol</code>, que configura o alfabeto do exemplo e é habitado por <code>DoOpen</code> e <code>DoClose</code>. O trecho <code>deriving (Eq, Ord)</code> permite que valores de <code>DoorState</code> possam ser comparados por igualdade, por ordem (algo necessário para que possamos criar conjuntos de <code>DoorState</code>), e possam ser transformados em texto.</p>
<p>Definimos o autômato do exemplo da seguinte forma:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ot">example1 ::</span> <span class="dt">DFA</span> <span class="dt">DoorState</span> <span class="dt">DoorSymbol</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>example1 <span class="ot">=</span> <span class="dt">MkDFA</span> transition start endings</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">where</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="ot">    transition ::</span> <span class="dt">DoorState</span> <span class="ot">-&gt;</span> <span class="dt">DoorSymbol</span> <span class="ot">-&gt;</span> <span class="dt">DoorState</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    transition <span class="dt">Open</span> <span class="dt">DoOpen</span> <span class="ot">=</span> <span class="dt">Open</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    transition <span class="dt">Open</span> <span class="dt">DoClose</span> <span class="ot">=</span> <span class="dt">Closed</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    transition <span class="dt">Closed</span> <span class="dt">DoOpen</span> <span class="ot">=</span> <span class="dt">Open</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    transition <span class="dt">Closed</span> <span class="dt">DoClose</span> <span class="ot">=</span> <span class="dt">Closed</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="ot">    start ::</span> <span class="dt">DoorState</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    start <span class="ot">=</span> <span class="dt">Open</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="ot">    endings ::</span> <span class="dt">S.Set</span> <span class="dt">DoorState</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    endings <span class="ot">=</span> S.fromList [<span class="dt">Open</span>, <span class="dt">Closed</span>]</span></code></pre></div>
<p>Acima, criamos um valor de <code>DFA</code> parametrizado pelos tipos <code>DoorState</code> e <code>DoorSymbol</code>, usando os membros <code>transition</code>, <code>start</code>, e <code>endings</code> definidos após a cláusula <code>where</code>.</p>
<p>A função <code>transition</code> é definida usando a técnica de <em>pattern matching</em> em cima de seus parâmetros: quando recebe um valor <code>Open</code> e um <code>DoOpen</code>, retorna <code>Open</code>; quando recebe <code>Open</code> e <code>DoClose</code>, retorna <code>Closed</code>; e assim por diante. <code>start</code> é nada mais que o estado no qual o sistema começa e <code>endings</code> é um conjunto criado a partir da lista <code>[Open, Closed]</code>.</p>
<h2 id="linguagens-regulares">Linguagens regulares</h2>
<p>Até este momento, estávamos pensando em autômatos como um modelo abstrato para sistemas concretos; a partir de agora, vamos focar um pouco mais nas abstrações, com os holofotes no conceito de <em>linguagem</em> brevemente mencionado.</p>
<p>A linguagem de um modelo computacional baseado em <em>aceitação</em> e <em>rejeição</em>, como discutido, é o conjunto de todas as entradas que, no final de sua computação, acaba em um estado de aceitação. Por definição, as <strong>linguagens regulares</strong> são <em>todas</em> as linguagens que podem ser descritas por autômatos finitos.</p>
<p>Imagine que estamos lidando com uma fita cujo alfabeto contêm somente as letras ‘a’ e ‘b’. O conjunto de todas as fitas possíveis com esta caracterísitica seria:</p>
<div style="overflow-x: auto; overflow-y: hidden;">
<p><img width="755" alt="\{\text{`` &39;&39;}, \text{``a&39;&39;}, \text{``b&39;&39;}, \text{``aa&39;&39;}, \text{``ab&39;&39;}, \text{``ba&39;&39;}, \text{``bb&39;&39;},  \text{``aaa&39;&39;}, \text{``aab&39;&39;}...\}" height="34" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAvMAAAAiCAQAAAB48Z7/AAAHMklEQVR4nO1di5XiMAykBVqgBVpIC7RAC7SgFmiBFmghLdACLXCyHSAswVLizyjvPPvu3S5xNMNI62zs2Gw2k6AtHelCPX/tpls0NDQ0NFgA99Y9XelM3ZyTDnTnryNti+lqaGhoaMgG2hHRgzt7Xa9NHTe+0z7SYnTV4NYUaemI+0BMe3/xOChVL+YswT/NzpZeOeLDsgNi1KIOiWfBHdQoEOPCFeJ9rAFsrYpRq+YgFl/X9CJIPbyP8hXkGo1141hDNC/hQTeViATO/Py/2LlEjmJiwQ6IcYs6JJ4Hd1CjQIwMV4j3sQawtSrGrZiDCINToBm64WtSRCptx8bwdTE6du/fyj2c4e8StNeaBM7c/HF2zyBdv4EOiJGLO6RSAHVQUiDGNqEQ72Np4GtVjF4lB1EF0d5b3ZCvWMfX91s6i9F27v7g1X635NdpLmde/ji7/AuIdkCMXdgh8Wy4g6ndvA2FeB/LA12rYvQqOYjGz9TNX95D/Hz7c/zV7jPi6PsFxi7hzMcfZ9d1EWgHxPgFHRLPhjuY3s37KGCFeB/rAFmrYvQqOYjHztPNj2Txm1KMAtF+HO15JZuD+Zw5+ePsql9AsANi9KIOiWfDHczRzeMV4n2sAWytitGr5CAaPVM3T3Tif7vhewdhrng8/kUdnZR6kzhz8sfZVYkFOyBGL+qQ4mywg1m6ebhCvI81gK1VRfQKOYhGz9TNX/3Egb8G0dF//4hNY/C1a3z91D7VmcSZlz/OrhiNAzsgxi7skHg23MEMY/MGFOJ9LA90rYrRq+QgGj/bFOzbpp1/fCdik5vXHo2FnRc+5xrl9MsCLhz78r2gKwe/wD4klplOXgP9eRIH7IB0vIJDkjq4g5IC6X3YUIj3cXhtcS1Kx/G1KrWok4MYMnXzfPz0Fu/GmWJS+aZktMxq+Zv6zclmDzdBnICebp/LuvLwx95xSKzfGuKwCZtE3FnRO5VgB9AOSepMOCgokN6HEYVwH1NrcQW1KumvlIPfyNbNWwKbPVpewLa6dWVVd+GhsK5tfCPmVrf1tTaKkBzAOqRhRzuoUYCuM41HBnxMrEXrtapogc+Bupt3tzHVZ9CXgcJyg+3Hz1Wf5aWJ5cX+xrCSCskBrEMadrSDGgXoOtN4ZMTHhFq0XqvKFtgcCHsYPJudvoXaBdGfsbUD/1Rx+fWg4A8jX+edqsiuQJn5Iw5gHdKwox3UKEDXmcYjIz4m1KL1WlW2wOag+7wUTTcaba2zBrCFn2ODnYVunl/taw18SQ5gHdKwox3UKEDXmcYjAz4m1qL1WlW0gOfA3z24YaLp8Rg+eA3bD9eSkxOcgM4/A3s20s1fq+sQHMA5JLHjHdQrQLmoUYj38cWZWIt2a1VqYSMHw5bEN+b9ntngg0c+dF/L9OsTfOt0car5/52Zv+ZdATyqaRAcADskqYM7qFOAdFGjEO+j50usRdu1KrWwkAO3U4+bDYjMr3IT3RC+ETz1PoeZzHTz7vqdeYvRH/yCA1iHNOxoBzUK0HWm8ciAj4m1aL1WFS0s5MBtdiyNyfA1quKEQSq8geO5ekvdfBUdkgNYhzTsaAc1CtB1to5Bm9RatF6rihb4HEwqmGroJgwy77RQBsOOzds/r4TdnCvNMfxI7K2Oh5IDWId07FgHNQrwdabxCO1jai1ar1WNPnQONpaXRy19Sv/7KVX/OGgwfsY7SFklMPkI1Z7kh5qyKJAcyONQ2fxgHdQowLqoUahtU1Jnai1ar1WNvlK1rHlleN1qN+/vHhY9qe9tvn+8cn6Oguk3+FzO788Oc9qfy87dCN6cPRqLOZDDodL5wTqoUYB1UaNQ26akztRatF6rGn1lalnzyuuI2W4+7BK3ZBuird96aHzb2vkbJPcJLeqxsOX8A+edWT83JJKnQDIpkBzI4VDp/GAd1CjAuqhRqG1TUmdqLVqvVY2+jLW8nffK64jZbt4Z0S9jpJ2/Vp7p4HeEO2yen5fe6yeRU/h9Ysmznn3aT/5p1ZkT2CUdSHeodH7QDmoUYF3UeZTDR2wtWq9VRYsctfy1mbHmldcRq9285+yWM/rFCt14rGr++FwK/yvG3utYuIK4pAPpDtXJD85BjQKsi68YCo/SfMTWovVa1epLzcFSWO/moatv0fwWFMRgW12AfY32FQasRec01q0+Fba7+ckPcvh/+C0oiMG2ugD7Gu0rDFiLzmmsW30qDHfzbnVZTT5r/BYUxGBbXYB9jfYVBqxF5zTWrT4dlrt5wCfEW+K3oCAG2+oC7Gu0rzBgLTqnsW716VAvxfLPh1bagcHzHep+EIg1fgsKYrCtLsC+RvsKA9aicxrrVp8OCrvN6wathh3Oan3MHfovafjVH68gBtvqAuxrtK8wYC06p7Fu9angTn7eVvJ0pN5/WC3VfySooaGhoUEPv/997/84nzv9PDwh2rr5hoaGBsPwe99H7mT+AX2FF6vgKAI2AAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-10px;" /></p>
</div>
<p>Desta forma, qualquer autômato que tenha ao menos um estado e que todos sejam de aceitação terá este conjunto como linguagem. Mas e se quisermos fazer alguma restrição? Abaixo, vemos o diagrama de estados de um autômato cuja linguagem contêm <em>apenas</em> as fitas que tenham um número par de aparições da letra ‘a’ e qualquer número da letra ‘b’.</p>
<div style="overflow-x: auto; overflow-y: hidden;">
<svg width="215" height="150" style="display: block; margin: auto;" version="1.1" xmlns="http://www.w3.org/2000/svg">
<ellipse stroke-width="1" fill="none" cx="64.5" cy="45.5" rx="30" ry="30"></ellipse>
<text x="56.5" y="51.5" font-family="Times New Roman" font-size="20">q₀</text>
<ellipse stroke-width="1" fill="none" cx="64.5" cy="45.5" rx="24" ry="24"></ellipse>
<ellipse stroke-width="1" fill="none" cx="182.5" cy="45.5" rx="30" ry="30"></ellipse>
<text x="174.5" y="51.5" font-family="Times New Roman" font-size="20">q₁</text>
<path stroke-width="1" fill="none" d="M 91.733,33.135 A 110.786,110.786 0 0 1 155.267,33.135"></path>
<polygon stroke-width="1" points="155.267,33.135 149.037,26.051 146.17,35.631"></polygon>
<text x="119.5" y="19.5" font-family="Times New Roman" font-size="20">a</text>
<path stroke-width="1" fill="none" d="M 77.725,72.297 A 22.5,22.5 0 1 1 51.275,72.297"></path>
<text x="59.5" y="134.5" font-family="Times New Roman" font-size="20">b</text>
<polygon stroke-width="1" points="51.275,72.297 42.527,75.83 50.618,81.708"></polygon>
<path stroke-width="1" fill="none" d="M 195.725,72.297 A 22.5,22.5 0 1 1 169.275,72.297"></path>
<text x="177.5" y="134.5" font-family="Times New Roman" font-size="20">b</text>
<polygon stroke-width="1" points="169.275,72.297 160.527,75.83 168.618,81.708"></polygon>
<path stroke-width="1" fill="none" d="M 154.146,55.125 A 140.25,140.25 0 0 1 92.854,55.125"></path>
<polygon stroke-width="1" points="92.854,55.125 99.568,61.752 101.753,51.993"></polygon>
<text x="119.5" y="79.5" font-family="Times New Roman" font-size="20">a</text>
<polygon stroke-width="1" points="2.5,45.5 34.5,45.5"></polygon>
<polygon stroke-width="1" points="34.5,45.5 26.5,40.5 26.5,50.5"></polygon>
</svg>
</div>
<div style="overflow-x: auto; overflow-y: hidden;">
<p><img width="921" alt="\{\text{`` &39;&39;}, \text{``b&39;&39;}, \text{``aa&39;&39;}, \text{``aab&39;&39;}, \text{``baa&39;&39;}, \text{``aabb&39;&39;}, \text{``baab&39;&39;}, \text{``bbaa&39;&39;},  \text{``aaaa&39;&39;}, ...\}" height="34" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-10px;" /></p>
</div>
<p>Em código, escrevemos este autômato como:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">data</span> <span class="dt">Q</span> <span class="ot">=</span> <span class="dt">Q1</span> <span class="op">|</span> <span class="dt">Q2</span> <span class="kw">deriving</span> (<span class="dt">Eq</span>, <span class="dt">Ord</span>, <span class="dt">Show</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">data</span> <span class="dt">S</span> <span class="ot">=</span> <span class="dt">A</span> <span class="op">|</span> <span class="dt">B</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ot">example2 ::</span> <span class="dt">DFA</span> <span class="dt">Q</span> <span class="dt">S</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>example2 <span class="ot">=</span> <span class="dt">MkDFA</span> transition start endings</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">where</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="ot">    transition ::</span> <span class="dt">Q</span> <span class="ot">-&gt;</span> <span class="dt">S</span> <span class="ot">-&gt;</span> <span class="dt">Q</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    transition <span class="dt">Q1</span> <span class="dt">A</span> <span class="ot">=</span> <span class="dt">Q2</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    transition <span class="dt">Q2</span> <span class="dt">A</span> <span class="ot">=</span> <span class="dt">Q1</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    transition q <span class="dt">B</span> <span class="ot">=</span> q</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="ot">    start ::</span> <span class="dt">Q</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    start <span class="ot">=</span> <span class="dt">Q1</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="ot">    endings ::</span> <span class="dt">S.Set</span> <span class="dt">Q</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    endings <span class="ot">=</span> S.singleton <span class="dt">Q1</span></span></code></pre></div>
<p>Note que um <em>singleton</em> é um conjunto de apenas um elemento. Podemos usar o programa que descreve este autômato para verificar, de forma automática, se uma fita (ou <em>string</em>) pertence à sua linguagem; mas a questão é, como fazemos isso?</p>
<p>Vamos precisar escrever uma função que percorre os estados do modelo, alternando-os a partir das regras da função de transição. Em pseudo-código de uma linguagem imperativa tradicional, faríamos algo similar a isto:</p>
<div style="overflow-x: auto; overflow-y: hidden;">
<pre style="margin: 0">
run(transition, start, tape):
  state <- start
  for symbol in tape:
    state <- transition(state, symbol)
  return state
</pre>
</div>
<p>Este padrão é muito comum quando escrevendo programas, e na progrmação funcional o chamamos de <strong>fold</strong> (dobra), já que seu comportamento é de “dobrar” sua entrada aos poucos até terminar com um único valor final. Em Haskell, a assinatura do <code>fold</code> dobrando elementos “da esquerda para a direita” é a seguinte:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">foldl</span><span class="ot"> ::</span> (b <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> b</span></code></pre></div>
<p><code>foldl</code> recebe uma função que acumulará um resultado do tipo genérico <code>b</code> transformando-o a partir de cada elemento <code>a</code>, um valor inicial do tipo <code>b</code>, e uma lista de elementos do tipo <code>a</code>, retornando no final o resultado desta acumulação.</p>
<p>A partir desta definição, a função que executa um autômato finito para cada fita diferente pode ser escrita assim:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ot">run ::</span> <span class="dt">DFA</span> state symbol <span class="ot">-&gt;</span> [symbol] <span class="ot">-&gt;</span> state</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>run dfa tape <span class="ot">=</span> <span class="fu">foldl</span> (transition dfa) (start dfa) tape</span></code></pre></div>
<p>Os trechos <code>(transition dfa)</code> e <code>(start dfa)</code> extraem a função de transição e o estado inicial de um autômato, respectivamente. Após o fim da execução, precisamos saber se o estado final é de aceitação para descobrir se uma dada fita é parte da linguagem do autômato.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ot">accepts ::</span> <span class="dt">Ord</span> state <span class="ot">=&gt;</span> <span class="dt">DFA</span> state symbol <span class="ot">-&gt;</span> [symbol] <span class="ot">-&gt;</span> <span class="dt">Bool</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>accepts dfa tape <span class="ot">=</span> run dfa tape <span class="ot">`S.member`</span> endings dfa</span></code></pre></div>
<p>Alguns detalhes de notação:</p>
<ul>
<li><code>Ord state =&gt;</code> indica que os estados devem ser ordenáveis, algo necessário para que possamos realizar uma busca em conjunto,</li>
<li>funções entre <em>backticks</em> “`” são consideradas <em>infixas</em>, isto é, são escritas entre seus parâmetros, de forma que <code>S.member element set</code> seja igual a <code>element `S.member` set</code>.</li>
</ul>
<p>Então, esta função verifica se o estado final é membro do conjunto de estados de terminação.</p>
<p>Para testar as funções que acabamos de definir com alguns exemplos, definimos a função <em>main</em> de entrada do programa que imprime alguns resultados:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>main <span class="ot">=</span> <span class="kw">do</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span> (run example2 [<span class="dt">A</span>, <span class="dt">A</span>, <span class="dt">B</span>, <span class="dt">A</span>, <span class="dt">B</span>, <span class="dt">A</span>]) <span class="co">-- imprime Q1</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span> (run example2 [<span class="dt">A</span>, <span class="dt">A</span>, <span class="dt">B</span>, <span class="dt">A</span>, <span class="dt">B</span>, <span class="dt">B</span>]) <span class="co">-- imprime Q2</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span> (example2 <span class="ot">`accepts`</span> [<span class="dt">A</span>, <span class="dt">A</span>, <span class="dt">B</span>, <span class="dt">A</span>, <span class="dt">B</span>, <span class="dt">A</span>]) <span class="co">-- imprime True</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span> (example2 <span class="ot">`accepts`</span> [<span class="dt">A</span>, <span class="dt">A</span>, <span class="dt">B</span>, <span class="dt">A</span>, <span class="dt">B</span>, <span class="dt">B</span>]) <span class="co">-- imprime False</span></span></code></pre></div>
<h3 id="operações-regulares">Operações regulares</h3>
<p>Estamos quase chegando em expressões regulares! Só nos resta entender um último conceito: como <em>compor</em> diferentes linguagens.</p>
<h2 id="expressões-regulares">Expressões regulares</h2>
<h2 id="conclusão">Conclusão</h2>
<figure>
<img src="./img/nanana.png" class="go-center" alt="Na-Na-Na-Na-Na… Batman!" />
<figcaption aria-hidden="true"><em>Na-Na-Na-Na-Na… Batman!</em></figcaption>
</figure>
  </section>
  <section class="header">
    Posted on August  9, 2023
    
    by Eduardo Sandalo Porto
    
  </section>
</article>
  </main>

  <footer>
    Site generated with <a href="http://jaspervdj.be/hakyll">Hakyll</a>
  </footer>
</body>

</html>